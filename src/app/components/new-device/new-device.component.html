<div class="container">
    <form #repairForm="ngForm" class="row g-3">
        <!-- Marca del dispositivo -->
        <div class="mb-3 col-sm-6">
            <label for="deviceBrand" class="form-label">Marca del dispositivo</label>
            <select [(ngModel)]="deviceBrand" name="deviceBrand" id="deviceBrand" class="form-control" required>
                <option value="" disabled selected>Selecciona una marca</option>
                <option value="Apple">Apple</option>
                <option value="Samsung">Samsung</option>
                <option value="Huawei">Huawei</option>
                <option value="Xiaomi">Xiaomi</option>
                <option value="Motorola">Motorola</option>
                <option value="LG">LG</option>
                <option value="Sony">Sony</option>
                <option value="Nokia">Nokia</option>
                <option value="Otro">Otro</option>
            </select>
        </div>

        <!-- Modelo del dispositivo -->
        <div class="mb-3 col-sm-6">
            <label for="deviceModel" class="form-label">Modelo del dispositivo</label>
            <input [(ngModel)]="deviceModel" name="deviceModel" id="deviceModel" class="form-control" required>
            <div *ngIf="repairForm.submitted && !repairForm.form?.get('deviceModel')?.valid" class="text-danger">
                El modelo es requerido.
            </div>            
        </div>

        <!-- Tipo de dispositivo -->
        <div class="mb-3">
            <label for="deviceType" class="form-label">Tipo de dispositivo</label>
            <select [(ngModel)]="deviceType" name="deviceType" id="deviceType" class="form-control" required>
                <option value="" disabled selected>Selecciona un tipo</option>
                <option value="Cellphone">Celular</option>
                <option value="Laptop">Laptop</option>
                <option value="Tablet">Tablet</option>
                <option value="Smartwatch">Smartwatch</option>
                <option value="Desktop">Desktop</option>
                <option value="Otro">Otro</option>
            </select>
        </div>

        <!-- Descripción del problema -->
        <div class="mb-3">
            <label for="problemDescription" class="form-label">Descripción del problema</label>
            <textarea [(ngModel)]="problemDescription" name="problemDescription" id="problemDescription"
                class="form-control" rows="3" required></textarea>
        </div>

        <!-- Botón de solicitud de reparación -->
        <button type="button" class="btn btn-primary" (click)="requestRepair()" [disabled]="!repairForm.valid">
            Solicitar reparación
        </button>
    </form>

    <!-- Confirmación de solicitud de reparación -->
    <div *ngIf="showConfirmation" class="mt-3">
        <div class="alert alert-primary" role="alert">
            ¿Desea solicitar una reparación?
            <button type="button" class="btn btn-success ms-3" (click)="confirmRepair()">Yes</button>
            <button type="button" class="btn btn-danger ms-3" (click)="cancelRepair()">No</button>
        </div>
    </div>
</div>